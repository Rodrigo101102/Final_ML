{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./App.css';// Configurar axios para usar el backend en puerto 8003\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE_URL='http://localhost:8003';axios.defaults.baseURL=API_BASE_URL;function App(){const[duration,setDuration]=useState(20);const[connectionType,setConnectionType]=useState('wifi');const[isAnalyzing,setIsAnalyzing]=useState(false);const[progress,setProgress]=useState({message:'',percentage:0});const[results,setResults]=useState(null);const[alert,setAlert]=useState(null);const[databaseStatus,setDatabaseStatus]=useState(null);const[showAllRecords,setShowAllRecords]=useState(false);const[currentPage,setCurrentPage]=useState(1);const recordsPerPage=10;// Verificar estado de la base de datos al cargar\nuseEffect(()=>{checkDatabaseStatus();},[]);// Reiniciar paginación cuando cambian los resultados\nuseEffect(()=>{setCurrentPage(1);setShowAllRecords(false);},[results]);const checkDatabaseStatus=async()=>{try{const response=await axios.get('/database/status');setDatabaseStatus(response.data);}catch(error){console.error('Error verificando base de datos:',error);}};const showAlert=(message,type)=>{setAlert({message,type});setTimeout(()=>setAlert(null),5000);};const updateProgress=(message,percentage)=>{setProgress({message,percentage});};const startAnalysis=async()=>{if(!duration||!connectionType){showAlert('Por favor, complete todos los campos.','danger');return;}setIsAnalyzing(true);setResults(null);updateProgress('1. Preparando captura de tráfico...',20);try{const response=await axios.post('/analyze',{duration:parseInt(duration),connection_type:connectionType});if(response.data.success){updateProgress('✓ Análisis completado con éxito',100);setTimeout(()=>{setResults(response.data);setIsAnalyzing(false);showAlert(`Análisis completado: ${response.data.summary.total_flows} flujos procesados con ${response.data.summary.columns_count} características`,'success');// Actualizar estado de la base de datos\ncheckDatabaseStatus();},1000);}else{throw new Error(response.data.error||'Error desconocido en el análisis');}}catch(error){var _error$response,_error$response$data;console.error('Error:',error);showAlert(`❌ Error en el análisis: ${((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||error.message}`,'danger');setIsAnalyzing(false);}};const getSummary=predictions=>{const threatCounts={'BENIGN':0,'Bot':0,'DDoS':0,'PortScan':0,'BruteForce':0,'Infiltration':0,'DoS':0,'WebAttack':0,'Heartbleed':0,'Unknown':0};predictions.forEach(pred=>{if(threatCounts.hasOwnProperty(pred.label)){threatCounts[pred.label]++;}else{threatCounts['Unknown']++;}});return threatCounts;};const getBadgeClass=label=>{switch(label){case'BENIGN':return'bg-success';case'Bot':return'bg-danger';case'DDoS':return'bg-danger';case'PortScan':return'bg-warning';case'BruteForce':return'bg-danger';case'Infiltration':return'bg-danger';case'DoS':return'bg-danger';case'WebAttack':return'bg-warning';case'Heartbleed':return'bg-danger';default:return'bg-secondary';}};const getThreatIcon=label=>{switch(label){case'BENIGN':return'fa-shield-check';case'Bot':return'fa-robot';case'DDoS':return'fa-shield-virus';case'PortScan':return'fa-search';case'BruteForce':return'fa-hammer';case'Infiltration':return'fa-user-secret';case'DoS':return'fa-ban';case'WebAttack':return'fa-globe';case'Heartbleed':return'fa-heartbeat';default:return'fa-question';}};const getBackgroundColor=label=>{if(label==='BENIGN')return'rgba(16, 185, 129, 0.1)';if(['Bot','DDoS','DoS','BruteForce','Infiltration'].includes(label))return'rgba(239, 68, 68, 0.1)';return'rgba(245, 158, 11, 0.1)';};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"a\",{className:\"navbar-brand\",href:\"/\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shield-alt me-2\"}),\"ML Traffic Analyzer\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"navbar-text\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-brain me-1\"}),\"An\\xE1lisis Inteligente de Tr\\xE1fico de Red\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container my-4\",children:[alert&&/*#__PURE__*/_jsxs(\"div\",{className:`alert alert-${alert.type} alert-dismissible fade show`,role:\"alert\",children:[/*#__PURE__*/_jsx(\"i\",{className:`fas fa-${alert.type==='success'?'check-circle':alert.type==='danger'?'exclamation-circle':'info-circle'} me-2`}),alert.message,/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:()=>setAlert(null)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8 mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"h4\",{className:\"card-title mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-cog me-2\"}),\"Configuraci\\xF3n del An\\xE1lisis\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mb-3\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"duration\",className:\"form-label\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-clock me-2\"}),\"Duraci\\xF3n de Captura: \",duration,\" segundos\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",className:\"form-range\",id:\"duration\",min:\"5\",max:\"60\",value:duration,onChange:e=>setDuration(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"5s\"}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"60s\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mb-3\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"connectionType\",className:\"form-label\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-wifi me-2\"}),\"Tipo de Conexi\\xF3n\"]}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",id:\"connectionType\",value:connectionType,onChange:e=>setConnectionType(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"wifi\",children:\"WiFi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ethernet\",children:\"Ethernet\"}),/*#__PURE__*/_jsx(\"option\",{value:\"mobile\",children:\"M\\xF3vil\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-lg\",onClick:startAnalysis,disabled:isAnalyzing,children:isAnalyzing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\"}),\"Analizando...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-play me-2\"}),\"Iniciar An\\xE1lisis\"]})})})]})]})})}),databaseStatus&&/*#__PURE__*/_jsx(\"div\",{className:\"row mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8 mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-database me-2\"}),\"Estado de la Base de Datos\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:`icon-container ${databaseStatus.status==='connected'?'icon-success':'bg-danger'} mx-auto`,children:/*#__PURE__*/_jsx(\"i\",{className:`fas ${databaseStatus.status==='connected'?'fa-check':'fa-times'} fa-lg`})}),/*#__PURE__*/_jsx(\"h6\",{children:databaseStatus.status==='connected'?'Conectado':'Error'}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:databaseStatus.database})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-primary\",children:databaseStatus.total_records||0}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Registros Totales\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"h6\",{children:[\"Host: \",databaseStatus.host,\":\",databaseStatus.port]}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"PostgreSQL\"})]})})]})})]})})}),isAnalyzing&&/*#__PURE__*/_jsx(\"div\",{className:\"row mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border mb-3\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Analizando...\"})}),/*#__PURE__*/_jsx(\"h5\",{children:\"Analizando Tr\\xE1fico de Red\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-primary\",children:progress.message}),/*#__PURE__*/_jsx(\"div\",{className:\"progress mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar progress-bar-striped progress-bar-animated\",role:\"progressbar\",style:{width:`${progress.percentage}%`}})}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"Progreso: \",progress.percentage,\"%\"]})]})})})})}),results&&/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"h4\",{className:\"card-title mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chart-line me-2\"}),\"Resultados del An\\xE1lisis\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[(()=>{const threatCounts=getSummary(results.predictions);return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chart-pie me-2\"}),\"Resumen de Amenazas Detectadas\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:Object.entries(threatCounts).map(_ref=>{let[threat,count]=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-lg-4 col-xl-3 mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 shadow-sm h-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:`icon-container ${getBadgeClass(threat)} mx-auto mb-2`,style:{width:'50px',height:'50px',borderRadius:'50%',display:'flex',alignItems:'center',justifyContent:'center',color:'white'},children:/*#__PURE__*/_jsx(\"i\",{className:`fas ${getThreatIcon(threat)} fa-lg`})}),/*#__PURE__*/_jsx(\"h4\",{className:`mb-1 ${count>0?'text-primary':'text-muted'}`,children:count}),/*#__PURE__*/_jsx(\"h6\",{className:\"card-title text-muted mb-0\",children:threat}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:threat==='BENIGN'?'Tráfico seguro':threat==='Bot'?'Actividad de bots':threat==='DDoS'?'Ataques distribuidos':threat==='PortScan'?'Escaneo de puertos':threat==='BruteForce'?'Ataques por fuerza bruta':threat==='Infiltration'?'Intentos de infiltración':threat==='DoS'?'Ataques de denegación':threat==='WebAttack'?'Ataques web':threat==='Heartbleed'?'Vulnerabilidad SSL':'Tipo desconocido'})]})})},threat);})})]});})(),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card bg-gradient text-white\",style:{background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-boxes fa-2x mb-2\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mb-1\",children:results.full_data.length}),/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0\",children:\"Total de Paquetes Analizados\"}),/*#__PURE__*/_jsxs(\"small\",{className:\"opacity-75\",children:[results.summary.columns_count,\" caracter\\xEDsticas por paquete\"]})]})})})}),/*#__PURE__*/_jsx(\"h5\",{className:\"mb-3\",children:\"Detalle de Predicciones:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:results.predictions.map((pred,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-lg-4 mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0\",style:{background:getBackgroundColor(pred.label)},children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"card-title\",children:[\"Flujo #\",index+1]}),/*#__PURE__*/_jsx(\"span\",{className:`badge ${getBadgeClass(pred.label)}`,children:pred.label})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-end\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0\",children:[(pred.confidence*100).toFixed(1),\"%\"]}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Confianza\"})]})]})})})},index))}),results.full_data&&results.full_data.length>0&&(()=>{const totalRecords=results.full_data.length;const totalPages=Math.ceil(totalRecords/recordsPerPage);const startIndex=(currentPage-1)*recordsPerPage;const endIndex=startIndex+recordsPerPage;const currentRecords=showAllRecords?results.full_data:results.full_data.slice(startIndex,endIndex);// Obtener todas las columnas disponibles\nconst allColumns=results.full_data.length>0?Object.keys(results.full_data[0]).filter(key=>key!=='Confidence'):[];return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-3\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-table me-2\"}),\"Datos Completos (\",results.summary.columns_count,\" Columnas)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-outline-primary\",onClick:()=>setShowAllRecords(!showAllRecords),children:[/*#__PURE__*/_jsx(\"i\",{className:`fas fa-${showAllRecords?'compress':'expand'} me-1`}),showAllRecords?'Mostrar paginado':`Ver todos (${totalRecords})`]}),!showAllRecords&&totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",role:\"group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-secondary\",onClick:()=>setCurrentPage(Math.max(1,currentPage-1)),disabled:currentPage===1,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chevron-left\"})}),/*#__PURE__*/_jsxs(\"span\",{className:\"btn btn-sm btn-outline-secondary disabled\",children:[currentPage,\" / \",totalPages]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-secondary\",onClick:()=>setCurrentPage(Math.min(totalPages,currentPage+1)),disabled:currentPage===totalPages,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chevron-right\"})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"results-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{position:'sticky',left:0,background:'#212529',zIndex:10},children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{style:{position:'sticky',left:'50px',background:'#212529',zIndex:10},children:\"Predicci\\xF3n\"}),allColumns.map((column,index)=>/*#__PURE__*/_jsx(\"th\",{style:{minWidth:'120px'},children:column.replace(/([A-Z])/g,' $1').replace(/^./,str=>str.toUpperCase())},index))]})}),/*#__PURE__*/_jsx(\"tbody\",{children:currentRecords.map((row,index)=>{const actualIndex=showAllRecords?index:startIndex+index;return/*#__PURE__*/_jsxs(\"tr\",{className:row.Prediction==='BENIGN'?'table-success':['Bot','DDoS','DoS','BruteForce','Infiltration','Heartbleed'].includes(row.Prediction)?'table-danger':'table-warning',children:[/*#__PURE__*/_jsx(\"td\",{style:{position:'sticky',left:0,background:'inherit',zIndex:9},children:/*#__PURE__*/_jsx(\"strong\",{children:actualIndex+1})}),/*#__PURE__*/_jsxs(\"td\",{style:{position:'sticky',left:'50px',background:'inherit',zIndex:9},children:[/*#__PURE__*/_jsx(\"span\",{className:`badge ${getBadgeClass(row.Prediction)} fs-6`,children:row.Prediction}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[(row.Confidence*100).toFixed(1),\"%\"]})]}),allColumns.map((column,colIndex)=>/*#__PURE__*/_jsx(\"td\",{children:typeof row[column]==='number'?row[column].toFixed(2):row[column]||'N/A'},colIndex))]},actualIndex);})})]})}),!showAllRecords&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mt-3 p-2 bg-light rounded\",children:[/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"Mostrando \",startIndex+1,\" - \",Math.min(endIndex,totalRecords),\" de \",totalRecords,\" registros\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-1\",children:Array.from({length:Math.min(5,totalPages)},(_,i)=>{let pageNum;if(totalPages<=5){pageNum=i+1;}else if(currentPage<=3){pageNum=i+1;}else if(currentPage>=totalPages-2){pageNum=totalPages-4+i;}else{pageNum=currentPage-2+i;}return/*#__PURE__*/_jsx(\"button\",{className:`btn btn-sm ${currentPage===pageNum?'btn-primary':'btn-outline-primary'}`,onClick:()=>setCurrentPage(pageNum),children:pageNum},pageNum);})})]})]})]});})()]})]})})})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE_URL","defaults","baseURL","App","duration","setDuration","connectionType","setConnectionType","isAnalyzing","setIsAnalyzing","progress","setProgress","message","percentage","results","setResults","alert","setAlert","databaseStatus","setDatabaseStatus","showAllRecords","setShowAllRecords","currentPage","setCurrentPage","recordsPerPage","checkDatabaseStatus","response","get","data","error","console","showAlert","type","setTimeout","updateProgress","startAnalysis","post","parseInt","connection_type","success","summary","total_flows","columns_count","Error","_error$response","_error$response$data","detail","getSummary","predictions","threatCounts","forEach","pred","hasOwnProperty","label","getBadgeClass","getThreatIcon","getBackgroundColor","includes","className","children","href","role","onClick","htmlFor","id","min","max","value","onChange","e","target","disabled","status","database","total_records","host","port","style","width","Object","entries","map","_ref","threat","count","height","borderRadius","display","alignItems","justifyContent","color","background","full_data","length","index","confidence","toFixed","totalRecords","totalPages","Math","ceil","startIndex","endIndex","currentRecords","slice","allColumns","keys","filter","key","position","left","zIndex","column","minWidth","replace","str","toUpperCase","row","actualIndex","Prediction","Confidence","colIndex","Array","from","_","i","pageNum"],"sources":["C:/Final_ML/frontend-react/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './App.css';\r\n\r\n// Configurar axios para usar el backend en puerto 8003\r\nconst API_BASE_URL = 'http://localhost:8003';\r\naxios.defaults.baseURL = API_BASE_URL;\r\n\r\nfunction App() {\r\n  const [duration, setDuration] = useState(20);\r\n  const [connectionType, setConnectionType] = useState('wifi');\r\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n  const [progress, setProgress] = useState({ message: '', percentage: 0 });\r\n  const [results, setResults] = useState(null);\r\n  const [alert, setAlert] = useState(null);\r\n  const [databaseStatus, setDatabaseStatus] = useState(null);\r\n  const [showAllRecords, setShowAllRecords] = useState(false);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const recordsPerPage = 10;\r\n\r\n  // Verificar estado de la base de datos al cargar\r\n  useEffect(() => {\r\n    checkDatabaseStatus();\r\n  }, []);\r\n\r\n  // Reiniciar paginación cuando cambian los resultados\r\n  useEffect(() => {\r\n    setCurrentPage(1);\r\n    setShowAllRecords(false);\r\n  }, [results]);\r\n\r\n  const checkDatabaseStatus = async () => {\r\n    try {\r\n      const response = await axios.get('/database/status');\r\n      setDatabaseStatus(response.data);\r\n    } catch (error) {\r\n      console.error('Error verificando base de datos:', error);\r\n    }\r\n  };\r\n\r\n  const showAlert = (message, type) => {\r\n    setAlert({ message, type });\r\n    setTimeout(() => setAlert(null), 5000);\r\n  };\r\n\r\n  const updateProgress = (message, percentage) => {\r\n    setProgress({ message, percentage });\r\n  };\r\n\r\n  const startAnalysis = async () => {\r\n    if (!duration || !connectionType) {\r\n      showAlert('Por favor, complete todos los campos.', 'danger');\r\n      return;\r\n    }\r\n\r\n    setIsAnalyzing(true);\r\n    setResults(null);\r\n    updateProgress('1. Preparando captura de tráfico...', 20);\r\n\r\n    try {\r\n      const response = await axios.post('/analyze', {\r\n        duration: parseInt(duration),\r\n        connection_type: connectionType\r\n      });\r\n\r\n      if (response.data.success) {\r\n        updateProgress('✓ Análisis completado con éxito', 100);\r\n        setTimeout(() => {\r\n          setResults(response.data);\r\n          setIsAnalyzing(false);\r\n          showAlert(\r\n            `Análisis completado: ${response.data.summary.total_flows} flujos procesados con ${response.data.summary.columns_count} características`,\r\n            'success'\r\n          );\r\n          // Actualizar estado de la base de datos\r\n          checkDatabaseStatus();\r\n        }, 1000);\r\n      } else {\r\n        throw new Error(response.data.error || 'Error desconocido en el análisis');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      showAlert(\r\n        `❌ Error en el análisis: ${error.response?.data?.detail || error.message}`,\r\n        'danger'\r\n      );\r\n      setIsAnalyzing(false);\r\n    }\r\n  };\r\n\r\n  const getSummary = (predictions) => {\r\n    const threatCounts = {\r\n      'BENIGN': 0,\r\n      'Bot': 0,\r\n      'DDoS': 0,\r\n      'PortScan': 0,\r\n      'BruteForce': 0,\r\n      'Infiltration': 0,\r\n      'DoS': 0,\r\n      'WebAttack': 0,\r\n      'Heartbleed': 0,\r\n      'Unknown': 0\r\n    };\r\n    \r\n    predictions.forEach(pred => {\r\n      if (threatCounts.hasOwnProperty(pred.label)) {\r\n        threatCounts[pred.label]++;\r\n      } else {\r\n        threatCounts['Unknown']++;\r\n      }\r\n    });\r\n    \r\n    return threatCounts;\r\n  };\r\n\r\n  const getBadgeClass = (label) => {\r\n    switch(label) {\r\n      case 'BENIGN': return 'bg-success';\r\n      case 'Bot': return 'bg-danger';\r\n      case 'DDoS': return 'bg-danger';\r\n      case 'PortScan': return 'bg-warning';\r\n      case 'BruteForce': return 'bg-danger';\r\n      case 'Infiltration': return 'bg-danger';\r\n      case 'DoS': return 'bg-danger';\r\n      case 'WebAttack': return 'bg-warning';\r\n      case 'Heartbleed': return 'bg-danger';\r\n      default: return 'bg-secondary';\r\n    }\r\n  };\r\n\r\n  const getThreatIcon = (label) => {\r\n    switch(label) {\r\n      case 'BENIGN': return 'fa-shield-check';\r\n      case 'Bot': return 'fa-robot';\r\n      case 'DDoS': return 'fa-shield-virus';\r\n      case 'PortScan': return 'fa-search';\r\n      case 'BruteForce': return 'fa-hammer';\r\n      case 'Infiltration': return 'fa-user-secret';\r\n      case 'DoS': return 'fa-ban';\r\n      case 'WebAttack': return 'fa-globe';\r\n      case 'Heartbleed': return 'fa-heartbeat';\r\n      default: return 'fa-question';\r\n    }\r\n  };\r\n\r\n  const getBackgroundColor = (label) => {\r\n    if (label === 'BENIGN') return 'rgba(16, 185, 129, 0.1)';\r\n    if (['Bot', 'DDoS', 'DoS', 'BruteForce', 'Infiltration'].includes(label)) return 'rgba(239, 68, 68, 0.1)';\r\n    return 'rgba(245, 158, 11, 0.1)';\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {/* Navbar */}\r\n      <nav className=\"navbar navbar-expand-lg navbar-dark\">\r\n        <div className=\"container\">\r\n          <a className=\"navbar-brand\" href=\"/\">\r\n            <i className=\"fas fa-shield-alt me-2\"></i>\r\n            ML Traffic Analyzer\r\n          </a>\r\n          <span className=\"navbar-text\">\r\n            <i className=\"fas fa-brain me-1\"></i>\r\n            Análisis Inteligente de Tráfico de Red\r\n          </span>\r\n        </div>\r\n      </nav>\r\n\r\n      <div className=\"container my-4\">\r\n        {/* Alert */}\r\n        {alert && (\r\n          <div className={`alert alert-${alert.type} alert-dismissible fade show`} role=\"alert\">\r\n            <i className={`fas fa-${alert.type === 'success' ? 'check-circle' : alert.type === 'danger' ? 'exclamation-circle' : 'info-circle'} me-2`}></i>\r\n            {alert.message}\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn-close\"\r\n              onClick={() => setAlert(null)}\r\n            ></button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Formulario de Configuración */}\r\n        <div className=\"row mb-4\">\r\n          <div className=\"col-lg-8 mx-auto\">\r\n            <div className=\"card\">\r\n              <div className=\"card-header\">\r\n                <h4 className=\"card-title mb-0\">\r\n                  <i className=\"fas fa-cog me-2\"></i>\r\n                  Configuración del Análisis\r\n                </h4>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-6 mb-3\">\r\n                    <label htmlFor=\"duration\" className=\"form-label\">\r\n                      <i className=\"fas fa-clock me-2\"></i>\r\n                      Duración de Captura: {duration} segundos\r\n                    </label>\r\n                    <input\r\n                      type=\"range\"\r\n                      className=\"form-range\"\r\n                      id=\"duration\"\r\n                      min=\"5\"\r\n                      max=\"60\"\r\n                      value={duration}\r\n                      onChange={(e) => setDuration(e.target.value)}\r\n                    />\r\n                    <div className=\"d-flex justify-content-between\">\r\n                      <small className=\"text-muted\">5s</small>\r\n                      <small className=\"text-muted\">60s</small>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-6 mb-3\">\r\n                    <label htmlFor=\"connectionType\" className=\"form-label\">\r\n                      <i className=\"fas fa-wifi me-2\"></i>\r\n                      Tipo de Conexión\r\n                    </label>\r\n                    <select\r\n                      className=\"form-select\"\r\n                      id=\"connectionType\"\r\n                      value={connectionType}\r\n                      onChange={(e) => setConnectionType(e.target.value)}\r\n                    >\r\n                      <option value=\"wifi\">WiFi</option>\r\n                      <option value=\"ethernet\">Ethernet</option>\r\n                      <option value=\"mobile\">Móvil</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-center\">\r\n                  <button\r\n                    className=\"btn btn-primary btn-lg\"\r\n                    onClick={startAnalysis}\r\n                    disabled={isAnalyzing}\r\n                  >\r\n                    {isAnalyzing ? (\r\n                      <>\r\n                        <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\"></span>\r\n                        Analizando...\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <i className=\"fas fa-play me-2\"></i>\r\n                        Iniciar Análisis\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Estado de la Base de Datos */}\r\n        {databaseStatus && (\r\n          <div className=\"row mb-4\">\r\n            <div className=\"col-lg-8 mx-auto\">\r\n              <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                  <h5 className=\"card-title mb-0\">\r\n                    <i className=\"fas fa-database me-2\"></i>\r\n                    Estado de la Base de Datos\r\n                  </h5>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-4\">\r\n                      <div className=\"text-center\">\r\n                        <div className={`icon-container ${databaseStatus.status === 'connected' ? 'icon-success' : 'bg-danger'} mx-auto`}>\r\n                          <i className={`fas ${databaseStatus.status === 'connected' ? 'fa-check' : 'fa-times'} fa-lg`}></i>\r\n                        </div>\r\n                        <h6>{databaseStatus.status === 'connected' ? 'Conectado' : 'Error'}</h6>\r\n                        <small className=\"text-muted\">{databaseStatus.database}</small>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-4\">\r\n                      <div className=\"text-center\">\r\n                        <h3 className=\"text-primary\">{databaseStatus.total_records || 0}</h3>\r\n                        <p className=\"text-muted\">Registros Totales</p>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-4\">\r\n                      <div className=\"text-center\">\r\n                        <h6>Host: {databaseStatus.host}:{databaseStatus.port}</h6>\r\n                        <small className=\"text-muted\">PostgreSQL</small>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Progreso */}\r\n        {isAnalyzing && (\r\n          <div className=\"row mb-4\">\r\n            <div className=\"col-12\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <div className=\"text-center\">\r\n                    <div className=\"spinner-border mb-3\" role=\"status\">\r\n                      <span className=\"visually-hidden\">Analizando...</span>\r\n                    </div>\r\n                    <h5>Analizando Tráfico de Red</h5>\r\n                    <p className=\"text-primary\">{progress.message}</p>\r\n                    <div className=\"progress mb-3\">\r\n                      <div\r\n                        className=\"progress-bar progress-bar-striped progress-bar-animated\"\r\n                        role=\"progressbar\"\r\n                        style={{ width: `${progress.percentage}%` }}\r\n                      ></div>\r\n                    </div>\r\n                    <small className=\"text-muted\">Progreso: {progress.percentage}%</small>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Resultados */}\r\n        {results && (\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                  <h4 className=\"card-title mb-0\">\r\n                    <i className=\"fas fa-chart-line me-2\"></i>\r\n                    Resultados del Análisis\r\n                  </h4>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  {(() => {\r\n                    const threatCounts = getSummary(results.predictions);\r\n                    return (\r\n                      <div className=\"mb-4\">\r\n                        <h5 className=\"mb-3\">\r\n                          <i className=\"fas fa-chart-pie me-2\"></i>\r\n                          Resumen de Amenazas Detectadas\r\n                        </h5>\r\n                        <div className=\"row\">\r\n                          {Object.entries(threatCounts).map(([threat, count]) => (\r\n                            <div key={threat} className=\"col-md-6 col-lg-4 col-xl-3 mb-3\">\r\n                              <div className=\"card border-0 shadow-sm h-100\">\r\n                                <div className=\"card-body text-center\">\r\n                                  <div className={`icon-container ${getBadgeClass(threat)} mx-auto mb-2`} style={{\r\n                                    width: '50px',\r\n                                    height: '50px',\r\n                                    borderRadius: '50%',\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    justifyContent: 'center',\r\n                                    color: 'white'\r\n                                  }}>\r\n                                    <i className={`fas ${getThreatIcon(threat)} fa-lg`}></i>\r\n                                  </div>\r\n                                  <h4 className={`mb-1 ${count > 0 ? 'text-primary' : 'text-muted'}`}>{count}</h4>\r\n                                  <h6 className=\"card-title text-muted mb-0\">{threat}</h6>\r\n                                  <small className=\"text-muted\">\r\n                                    {threat === 'BENIGN' ? 'Tráfico seguro' :\r\n                                     threat === 'Bot' ? 'Actividad de bots' :\r\n                                     threat === 'DDoS' ? 'Ataques distribuidos' :\r\n                                     threat === 'PortScan' ? 'Escaneo de puertos' :\r\n                                     threat === 'BruteForce' ? 'Ataques por fuerza bruta' :\r\n                                     threat === 'Infiltration' ? 'Intentos de infiltración' :\r\n                                     threat === 'DoS' ? 'Ataques de denegación' :\r\n                                     threat === 'WebAttack' ? 'Ataques web' :\r\n                                     threat === 'Heartbleed' ? 'Vulnerabilidad SSL' :\r\n                                     'Tipo desconocido'}\r\n                                  </small>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })()}\r\n\r\n                  {/* Recuadro del Total de Paquetes */}\r\n                  <div className=\"row mb-4\">\r\n                    <div className=\"col-md-4 mx-auto\">\r\n                      <div className=\"card bg-gradient text-white\" style={{\r\n                        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'\r\n                      }}>\r\n                        <div className=\"card-body text-center\">\r\n                          <i className=\"fas fa-boxes fa-2x mb-2\"></i>\r\n                          <h3 className=\"mb-1\">{results.full_data.length}</h3>\r\n                          <h6 className=\"mb-0\">Total de Paquetes Analizados</h6>\r\n                          <small className=\"opacity-75\">\r\n                            {results.summary.columns_count} características por paquete\r\n                          </small>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <h5 className=\"mb-3\">Detalle de Predicciones:</h5>\r\n                  <div className=\"row\">\r\n                    {results.predictions.map((pred, index) => (\r\n                      <div key={index} className=\"col-md-6 col-lg-4 mb-3\">\r\n                        <div\r\n                          className=\"card border-0\"\r\n                          style={{ background: getBackgroundColor(pred.label) }}\r\n                        >\r\n                          <div className=\"card-body\">\r\n                            <div className=\"d-flex justify-content-between align-items-center\">\r\n                              <div>\r\n                                <h6 className=\"card-title\">Flujo #{index + 1}</h6>\r\n                                <span className={`badge ${getBadgeClass(pred.label)}`}>\r\n                                  {pred.label}\r\n                                </span>\r\n                              </div>\r\n                              <div className=\"text-end\">\r\n                                <h5 className=\"mb-0\">{(pred.confidence * 100).toFixed(1)}%</h5>\r\n                                <small className=\"text-muted\">Confianza</small>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n\r\n                  {/* Tabla de datos completos */}\r\n                  {results.full_data && results.full_data.length > 0 && (() => {\r\n                    const totalRecords = results.full_data.length;\r\n                    const totalPages = Math.ceil(totalRecords / recordsPerPage);\r\n                    const startIndex = (currentPage - 1) * recordsPerPage;\r\n                    const endIndex = startIndex + recordsPerPage;\r\n                    const currentRecords = showAllRecords ? results.full_data : results.full_data.slice(startIndex, endIndex);\r\n                    \r\n                    // Obtener todas las columnas disponibles\r\n                    const allColumns = results.full_data.length > 0 ? Object.keys(results.full_data[0]).filter(key => key !== 'Confidence') : [];\r\n                    \r\n                    return (\r\n                      <div className=\"mt-4\">\r\n                        <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n                          <h5 className=\"mb-0\">\r\n                            <i className=\"fas fa-table me-2\"></i>\r\n                            Datos Completos ({results.summary.columns_count} Columnas)\r\n                          </h5>\r\n                          <div className=\"d-flex gap-2\">\r\n                            <button \r\n                              className=\"btn btn-sm btn-outline-primary\"\r\n                              onClick={() => setShowAllRecords(!showAllRecords)}\r\n                            >\r\n                              <i className={`fas fa-${showAllRecords ? 'compress' : 'expand'} me-1`}></i>\r\n                              {showAllRecords ? 'Mostrar paginado' : `Ver todos (${totalRecords})`}\r\n                            </button>\r\n                            {!showAllRecords && totalPages > 1 && (\r\n                              <div className=\"btn-group\" role=\"group\">\r\n                                <button \r\n                                  className=\"btn btn-sm btn-outline-secondary\"\r\n                                  onClick={() => setCurrentPage(Math.max(1, currentPage - 1))}\r\n                                  disabled={currentPage === 1}\r\n                                >\r\n                                  <i className=\"fas fa-chevron-left\"></i>\r\n                                </button>\r\n                                <span className=\"btn btn-sm btn-outline-secondary disabled\">\r\n                                  {currentPage} / {totalPages}\r\n                                </span>\r\n                                <button \r\n                                  className=\"btn btn-sm btn-outline-secondary\"\r\n                                  onClick={() => setCurrentPage(Math.min(totalPages, currentPage + 1))}\r\n                                  disabled={currentPage === totalPages}\r\n                                >\r\n                                  <i className=\"fas fa-chevron-right\"></i>\r\n                                </button>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"results-container\">\r\n                          <div className=\"table-responsive\">\r\n                            <table className=\"table table-hover table-striped\">\r\n                              <thead className=\"table-dark\">\r\n                                <tr>\r\n                                  <th style={{position: 'sticky', left: 0, background: '#212529', zIndex: 10}}>#</th>\r\n                                  <th style={{position: 'sticky', left: '50px', background: '#212529', zIndex: 10}}>Predicción</th>\r\n                                  {allColumns.map((column, index) => (\r\n                                    <th key={index} style={{minWidth: '120px'}}>\r\n                                      {column.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase())}\r\n                                    </th>\r\n                                  ))}\r\n                                </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                                {currentRecords.map((row, index) => {\r\n                                  const actualIndex = showAllRecords ? index : startIndex + index;\r\n                                  return (\r\n                                    <tr key={actualIndex} className={row.Prediction === 'BENIGN' ? 'table-success' : \r\n                                                                    ['Bot', 'DDoS', 'DoS', 'BruteForce', 'Infiltration', 'Heartbleed'].includes(row.Prediction) ? 'table-danger' : 'table-warning'}>\r\n                                      <td style={{position: 'sticky', left: 0, background: 'inherit', zIndex: 9}}>\r\n                                        <strong>{actualIndex + 1}</strong>\r\n                                      </td>\r\n                                      <td style={{position: 'sticky', left: '50px', background: 'inherit', zIndex: 9}}>\r\n                                        <span className={`badge ${getBadgeClass(row.Prediction)} fs-6`}>\r\n                                          {row.Prediction}\r\n                                        </span>\r\n                                        <br />\r\n                                        <small className=\"text-muted\">\r\n                                          {(row.Confidence * 100).toFixed(1)}%\r\n                                        </small>\r\n                                      </td>\r\n                                      {allColumns.map((column, colIndex) => (\r\n                                        <td key={colIndex}>\r\n                                          {typeof row[column] === 'number' \r\n                                            ? row[column].toFixed(2) \r\n                                            : row[column] || 'N/A'}\r\n                                        </td>\r\n                                      ))}\r\n                                    </tr>\r\n                                  );\r\n                                })}\r\n                              </tbody>\r\n                            </table>\r\n                          </div>\r\n                          \r\n                          {!showAllRecords && (\r\n                            <div className=\"d-flex justify-content-between align-items-center mt-3 p-2 bg-light rounded\">\r\n                              <small className=\"text-muted\">\r\n                                Mostrando {startIndex + 1} - {Math.min(endIndex, totalRecords)} de {totalRecords} registros\r\n                              </small>\r\n                              <div className=\"d-flex gap-1\">\r\n                                {Array.from({length: Math.min(5, totalPages)}, (_, i) => {\r\n                                  let pageNum;\r\n                                  if (totalPages <= 5) {\r\n                                    pageNum = i + 1;\r\n                                  } else if (currentPage <= 3) {\r\n                                    pageNum = i + 1;\r\n                                  } else if (currentPage >= totalPages - 2) {\r\n                                    pageNum = totalPages - 4 + i;\r\n                                  } else {\r\n                                    pageNum = currentPage - 2 + i;\r\n                                  }\r\n                                  \r\n                                  return (\r\n                                    <button\r\n                                      key={pageNum}\r\n                                      className={`btn btn-sm ${currentPage === pageNum ? 'btn-primary' : 'btn-outline-primary'}`}\r\n                                      onClick={() => setCurrentPage(pageNum)}\r\n                                    >\r\n                                      {pageNum}\r\n                                    </button>\r\n                                  );\r\n                                })}\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })()}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}